"0","salaries<-salaries%>%select(-mf)"
"0",""
"0","salaries$discipline <- as.factor(salaries$discipline)"
"0",""
"0","fit71<- glm(discipline~., data = salaries, family = ""binomial""(link=""logit""))"
"0",""
"0","x <- model.matrix(fit71)[, -1]"
"0","y<-as.matrix(salaries$discipline)"
"0","cv1<-cv.glmnet(x,y,family=""binomial"")"
"0","lasso1<-glmnet(x,y,family=""binomial"",lambda=cv1$lambda.1se)"
"0","coef(lasso1)"
"1","10 x 1 sparse Matrix of class ""dgCMatrix""
"
"1","               "
"1","            s0"
"1","
(Intercept)    "
"1"," -6.610833e-01"
"1","
rankAsstProf   "
"1","  .           "
"1","
rankProf       "
"1"," -1.214237e-01"
"1","
yrs.since.phd  "
"1"," -2.626082e-02"
"1","
yrs.service    "
"1","  .           "
"1","
sexMale        "
"1","  .           "
"1","
salary         "
"1","  1.325331e-05"
"1","
yrs.service_c  "
"1","  .           "
"1","
yrs.since.phd_c"
"1"," -1.327569e-02"
"1","
salary_c       "
"1","  2.414605e-06"
"1","
"
"0","set.seed(1234)"
"0","k=10"
"0",""
"0","data2<-salaries[sample(nrow(salaries)),]"
"0","folds2<-cut(seq(1:nrow(salaries)),breaks=k,labels=F)"
"0",""
"0","diags2<-NULL"
"0","for(i in 1:k){"
"0","train2<-data2[folds2!=i,]"
"0","test2<-data2[folds2==i,]"
"0","truth2<-test2$sex"
"0",""
"0","train2$sex <- as.factor(train2$sex)"
"0",""
"0","fit7<- glm(sex~yrs.since.phd+salary+yrs.since.phd_c+salary_c,data=train2,family=binomial(link=""logit""))"
"0","probs2<- predict(fit7, newdata=test2, type=""response"")"
"0","diags2<-rbind(diags2,class_diag(probs2,truth2))}"
"0",""
"0","apply(diags2,2,mean)"
"1","      acc "
"1","     sens "
"1","     spec "
"1","      ppv "
"1","
"
"1","0.9016667 "
"1","1.0000000 "
"1","0.0000000 "
"1","0.9016667 "
"1","
"
"1","      auc "
"1","
"
"1","0.6881957 "
"1","
"
